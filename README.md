# 美女相册信息提取器

这是一个合并了相册URL获取器和演员信息提取器功能的Chrome插件，支持从V2PH和俊美图网站获取相册链接和演员信息。

## 功能特性

### 📁 相册URL获取器
- ✅ 自动翻页获取所有相册URL
- ✅ 支持V2PH.com和俊美图.com两个网站
- ✅ 实时进度显示
- ✅ 多种导出格式：普通文本、YAML格式
- ✅ 一键复制到剪贴板
- ✅ 下载URL列表文件

### 🎭 演员信息提取器
- ✅ 提取演员详细信息（姓名、身高、三围等）
- ✅ 图片转base64处理，支持跨域图片
- ✅ 生成Markdown格式文件
- ✅ 支持V2PH.com/actor/*和俊美图.com/model/*页面
- ✅ 预览和下载功能

## 安装方法

1. 下载或克隆此项目
2. 打开Chrome浏览器，进入扩展程序管理页面（chrome://extensions/）
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目中的`chrome-extension`文件夹
6. 插件安装完成

## 使用方法

### 获取相册URL

1. 访问V2PH.com或俊美图.com的相册列表页面
2. 点击浏览器工具栏中的插件图标
3. 在"相册URL"标签页中点击"开始获取"
4. 等待自动翻页完成
5. 选择导出格式：
   - **复制全部**：复制所有URL到剪贴板
   - **复制YAML**：复制YAML格式配置
   - **下载列表**：下载为文本文件

### 提取演员信息

1. 访问V2PH.com/actor/*或俊美图.com/model/*页面
2. 点击浏览器工具栏中的插件图标
3. 在"演员信息"标签页中点击"提取演员信息"
4. 预览提取的信息
5. 点击"下载Markdown文件"保存

## 支持的网站

### 相册URL获取
- **V2PH.com**：支持相册列表页面的自动翻页
- **俊美图.com**：支持模特相册列表的自动翻页

### 演员信息提取
- **V2PH.com/actor/***：提取演员详细信息
- **俊美图.com/model/***：提取模特详细信息

## 技术特性

- **Manifest V3**：使用最新的Chrome扩展标准
- **跨域图片处理**：智能处理不同网站的图片转换
- **实时进度显示**：提供详细的提取进度反馈
- **数据持久化**：使用Chrome Storage API保存数据
- **响应式界面**：适配不同尺寸的弹窗

## 文件结构

```
chrome-extension/
├── manifest.json          # 插件配置文件
├── background.js          # 后台脚本（图片转换、消息转发）
├── content.js             # 内容脚本（URL提取+信息提取）
├── popup.html             # 弹窗界面
├── popup.js               # 弹窗逻辑
├── popup.css              # 弹窗样式
├── content.css            # 内容脚本样式
├── utils/
│   └── image-processor.js # 图片处理工具
├── icons/                 # 图标文件
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── README.md              # 说明文档
```

## 权限说明

插件申请了以下权限：
- `activeTab`：访问当前活动标签页
- `storage`：本地数据存储
- `downloads`：文件下载功能
- `clipboardWrite`：写入剪贴板
- `host_permissions`：访问指定网站

## 开发说明

### 合并的功能模块

1. **相册URL提取**：来自原`albumrefs`项目
   - `AlbumURLExtractor`类：主要提取器
   - `V2PHParser`类：V2PH网站解析器
   - `JunMeituParser`类：俊美图网站解析器

2. **演员信息提取**：来自原`avatarfetch`项目
   - 演员信息提取函数
   - 图片转换处理
   - Markdown生成功能

3. **界面整合**：使用标签页设计
   - 相册URL标签页
   - 演员信息标签页
   - 统一的状态管理

### 扩展开发

如需添加新网站支持，请参考现有解析器的实现模式：

1. 在`content.js`中添加新的解析器类
2. 更新网站检测逻辑
3. 添加相应的CSS选择器
4. 更新manifest.json的host_permissions

## 故障排除

### 常见问题

1. **插件无法加载**
   - 确保开启了"开发者模式"
   - 检查manifest.json语法是否正确

2. **无法获取URL**
   - 确认当前页面是支持的网站
   - 检查网络连接
   - 查看浏览器控制台错误信息

3. **图片转换失败**
   - 图片可能被网站保护
   - 尝试刷新页面重试

4. **提取超时**
   - 网络较慢时可能超时
   - 重新开始提取过程

### 调试方法

1. 打开Chrome开发者工具（F12）
2. 查看Console标签页的错误信息
3. 在扩展程序管理页面点击"检查视图"
4. 查看background script和content script的日志

## 更新日志

### v1.0.0
- 合并相册URL获取器和演员信息提取器
- 实现标签页式界面
- 支持V2PH和俊美图两个网站
- 优化图片转换处理
- 添加实时进度显示

## 许可证

本项目仅供学习和研究使用，请遵守相关网站的使用条款。

## 贡献

欢迎提交Issue和Pull Request来改进此项目。
